import{k as E,d as I,A as B,r as _,g as M,C as W,c as l,b as e,q as r,F as S,x as $,n as i,e as v,t as x,i as g,T as C,j as y,f as p,h as j,u as F,o as n,_ as A,s as H,m as P,D as U,y as q}from"./index-D8FYJz_l.js";import{u as z,_ as J}from"./useThemeStore-B5RhdCi-.js";const O=E("layout",{state:()=>({sidebarOpen:!1,activeItem:"Dashboard"}),actions:{toggleSidebar(){this.sidebarOpen=!this.sidebarOpen},closeSidebar(){this.sidebarOpen=!1},openSidebar(){this.sidebarOpen=!0},setActiveItem(h){this.activeItem=h}}}),Y={class:"sticky top-0 w-full flex items-center justify-between px-4 md:px-6 py-3 bg-gradient-to-r from-pink-50/90 to-purple-50/90 dark:from-gray-800/95 dark:to-gray-900/95 backdrop-blur-sm border-b border-pink-100/50 dark:border-gray-700/50 shadow-soft z-40 transition-all duration-300"},G={class:"flex items-center gap-3"},K={class:"hidden md:flex items-center gap-3 ps-8"},Q={class:"relative"},X={class:"w-12 h-12 rounded-full bg-gradient-to-br from-pink-100 to-purple-100 dark:from-gray-700 dark:to-gray-800 p-1.5"},Z={class:"w-full h-full rounded-full bg-white dark:bg-gray-900 flex items-center justify-center"},ee={class:"relative"},te={class:"flex items-end gap-0.5"},re={class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},ae={class:"flex items-center gap-2 md:gap-4"},oe={class:"relative"},se={key:0,class:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl shadow-2xl py-3 z-50 backdrop-blur-sm"},le={class:"px-4 py-3 border-t border-gray-100 dark:border-gray-700"},ne={class:"relative"},ie={class:"hidden md:inline text-sm font-medium text-gray-700 dark:text-gray-300"},de={key:0,class:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl shadow-2xl py-2 z-50 backdrop-blur-sm"},ue={class:"px-4 py-3 border-b border-gray-100 dark:border-gray-700"},be={class:"font-semibold text-gray-800 dark:text-gray-200"},ge={class:"text-xs text-gray-500"},ce=I({__name:"Header",setup(h){const t=B(),m=O(),f=F(),d=z(),u=_(75);M(()=>{setInterval(()=>{u.value=Math.floor(50+Math.random()*100)},5e3)});const w=W(()=>u.value<80?3:u.value<120?2:1),s=_(!1),k=()=>{s.value=!s.value,N()},a=()=>s.value=!1,c=_(!1),D=()=>{c.value=!c.value,a()},N=()=>c.value=!1,T=()=>{a(),console.log("Navigate to account index")},L=()=>{t.logout(),a(),f.push({name:"login"})},R=()=>{console.log("Marking all notifications as read"),c.value=!1};return(Oe,o)=>{const V=j("router-link");return n(),l("header",Y,[e("div",G,[e("button",{onClick:o[0]||(o[0]=(...b)=>r(m).toggleSidebar&&r(m).toggleSidebar(...b)),"aria-label":"Toggle menu",class:"relative p-2.5 rounded-xl transition-all duration-300 hover:bg-white/80 dark:hover:bg-gray-700/80 hover:shadow-md active:scale-95"},[...o[2]||(o[2]=[e("i",{class:"bx bx-menu text-2xl text-pink-600 dark:text-pink-400"},null,-1)])]),e("div",K,[e("div",Q,[e("div",X,[e("div",Z,[e("div",ee,[e("div",te,[(n(),l(S,null,$(3,b=>e("span",{key:b,class:i(["w-1.5 rounded-full transition-all duration-500",[b<=w.value?"bg-gradient-to-t from-green-400 to-emerald-500":"bg-gray-300 dark:bg-gray-600",b===1?"h-2":b===2?"h-3":"h-4"]])},null,2)),64))])])])]),e("span",{class:i(["absolute -top-1 -right-1 w-4 h-4 rounded-full border-2 border-white dark:border-gray-800",u.value<80?"bg-emerald-500":u.value<120?"bg-amber-500":"bg-red-500"])},null,2)]),e("div",null,[o[4]||(o[4]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"Connection",-1)),e("p",re,[v(x(u.value),1),o[3]||(o[3]=e("span",{class:"text-xs font-normal"},"ms",-1))])])])]),e("div",ae,[e("button",{onClick:o[1]||(o[1]=(...b)=>r(d).toggleTheme&&r(d).toggleTheme(...b)),"aria-label":"Toggle theme",class:"relative p-2.5 rounded-xl transition-all duration-300 group hover:bg-white/80 dark:hover:bg-gray-700/80 hover:shadow-md active:scale-95"},[e("i",{class:i(["bx text-xl transition-all duration-500",[r(d).dark?"bx-sun text-amber-500 group-hover:text-amber-600":"bx-moon text-purple-600 dark:text-purple-400"]])},null,2)]),e("div",oe,[e("button",{onClick:D,"aria-label":"Notifications",class:"relative p-2.5 rounded-xl transition-all duration-300 group hover:bg-white/80 dark:hover:bg-gray-700/80 hover:shadow-md active:scale-95"},[...o[5]||(o[5]=[e("i",{class:"bx bx-bell text-xl text-gray-600 dark:text-gray-300 group-hover:text-pink-600 dark:group-hover:text-pink-400"},null,-1),e("span",{class:"absolute top-1.5 right-1.5 w-2 h-2 bg-pink-500 rounded-full animate-pulse"},null,-1)])]),g(C,{name:"dropdown"},{default:y(()=>[c.value?(n(),l("div",se,[e("div",{class:"px-4 py-2 border-b border-gray-100 dark:border-gray-700"},[e("div",{class:"flex items-center justify-between"},[o[6]||(o[6]=e("h3",{class:"font-semibold text-gray-800 dark:text-gray-200"},"Notifications",-1)),e("button",{onClick:R,class:"text-xs text-pink-600 hover:text-pink-700"}," Mark all read ")])]),o[8]||(o[8]=e("div",{class:"max-h-64 overflow-y-auto"},[e("div",{class:"px-4 py-3 hover:bg-pink-50/30 dark:hover:bg-gray-700/50 transition-colors cursor-pointer border-b border-gray-50 dark:border-gray-700/50"},[e("div",{class:"flex items-start gap-3"},[e("div",{class:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-100 to-purple-100 dark:from-gray-700 flex items-center justify-center"},[e("i",{class:"bx bx-heart text-pink-600 dark:text-pink-400"})]),e("div",{class:"flex-1"},[e("p",{class:"text-sm text-gray-700 dark:text-gray-300"},[e("span",{class:"font-medium"},"Memory from 2 years ago"),v(" is trending in your feed ")]),e("p",{class:"text-xs text-gray-500 mt-1"},"2 hours ago")])])]),e("div",{class:"px-4 py-3 hover:bg-pink-50/30 dark:hover:bg-gray-700/50 transition-colors cursor-pointer"},[e("div",{class:"flex items-start gap-3"},[e("div",{class:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-gray-700 flex items-center justify-center"},[e("i",{class:"bx bx-calendar text-blue-600 dark:text-blue-400"})]),e("div",{class:"flex-1"},[e("p",{class:"text-sm text-gray-700 dark:text-gray-300"},[v(" Today's "),e("span",{class:"font-medium"},"Memory Reflection"),v(" is ready ")]),e("p",{class:"text-xs text-gray-500 mt-1"},"Yesterday")])])])],-1)),e("div",le,[g(V,{to:"/private/notifications",class:"text-sm text-pink-600 hover:text-pink-700 font-medium text-center block"},{default:y(()=>[...o[7]||(o[7]=[v(" View All Notifications ",-1)])]),_:1})])])):p("",!0)]),_:1})]),e("div",ne,[e("button",{onClick:k,"aria-label":"Account menu",class:"flex items-center gap-2 p-1 rounded-2xl transition-all duration-300 hover:bg-white/80 dark:hover:bg-gray-700/80 hover:shadow-md active:scale-95"},[o[9]||(o[9]=e("span",{class:"relative"},[e("img",{src:J,alt:"Ralph Maron Eda",class:"w-9 h-9 rounded-full object-cover border-2 border-white dark:border-gray-800 shadow-sm"}),e("span",{class:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full bg-emerald-500 border-2 border-white dark:border-gray-800"})],-1)),e("span",ie,x(r(t).user?.email||"User"),1),o[10]||(o[10]=e("i",{class:"bx bx-chevron-down text-gray-500 hidden md:inline"},null,-1))]),g(C,{name:"dropdown"},{default:y(()=>[s.value?(n(),l("div",de,[e("div",ue,[e("p",be,x(r(t).user?.email||"My Account"),1),e("p",ge,x(r(t).user?.email||"user@cutie.com"),1)]),e("button",{onClick:T,class:"flex items-center w-full px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-pink-50 dark:hover:bg-gray-700 transition-colors group"},[...o[11]||(o[11]=[e("span",{class:"w-8 h-8 rounded-lg bg-pink-100 dark:bg-pink-900/30 flex items-center justify-center mr-3 group-hover:scale-110 transition-transform"},[e("i",{class:"bx bx-user text-pink-600 dark:text-pink-400"})],-1),e("span",null,"My Profile",-1)])]),e("button",{onClick:L,class:"flex items-center w-full px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-pink-50 dark:hover:bg-gray-700 transition-colors group"},[...o[12]||(o[12]=[e("span",{class:"w-8 h-8 rounded-lg bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3 group-hover:scale-110 transition-transform"},[e("i",{class:"bx bx-log-out text-red-600 dark:text-red-400"})],-1),e("span",null,"Logout",-1)])])])):p("",!0)]),_:1})])])])}}}),pe=A(ce,[["__scopeId","data-v-bfacead9"]]),xe={class:"mt-6 px-3 flex flex-col space-y-1"},me={key:0,class:"absolute inset-0 rounded-xl bg-gradient-to-r from-pink-500/20 to-purple-500/20animate-pulse"},fe={class:"relative z-10 flex items-center justify-center"},ke={key:1,class:"relative z-10 text-sm font-medium truncate"},ve={key:2,class:"absolute left-full top-1/2 -translate-y-1/2 ml-4 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 bg-gray-800 text-white text-sm px-3 py-2 rounded-lg whitespace-nowrap shadow-xl pointer-events-none z-50"},ye={key:3,class:"absolute right-3 top-1/2 -translate-y-1/2"},he={class:"p-4 border-b border-pink-100/50 dark:border-gray-700/50"},we={class:"flex items-center justify-between"},_e={class:"flex-1 px-3 py-4 space-y-1 overflow-y-auto"},Se={class:"text-sm font-medium"},$e=I({__name:"Sidebar",setup(h){const t=O(),m=U(),f=[{icon:"bxs-home",label:"Dashboard",route:"/private/dashboard"},{icon:"bxs-image",label:"My Memories",route:"/private/memories"},{icon:"bxs-book-heart",label:"My Diary",route:"/private/diary"},{icon:"bxs-user",label:"Profile",route:"/private/account"},{icon:"bxs-cog",label:"Settings",route:"/private/settings"}],d=_(!1),u=()=>{d.value=window.innerWidth<768};return M(()=>{d.value=window.innerWidth<768,window.addEventListener("resize",u)}),H(()=>{window.removeEventListener("resize",u)}),t.closeSidebar||(t.closeSidebar=()=>{t.sidebarOpen=!1}),P(()=>m.path,w=>{const s=f.find(k=>w.startsWith(k.route));t.activeItem=s?s.label:""},{immediate:!0}),(w,s)=>{const k=j("router-link");return n(),l(S,null,[e("aside",{class:i(["hidden md:flex flex-col bg-gradient-to-b from-white/95 to-pink-50/50 dark:from-gray-900/95 dark:to-gray-800/50 border-r border-pink-100/50 dark:border-gray-700/50 backdrop-blur-sm transition-all duration-500 ease-out z-20 shrink-0",r(t).sidebarOpen?"w-64":"w-22"])},[e("nav",xe,[(n(),l(S,null,$(f,a=>g(k,{key:a.label,to:a.route,onClick:c=>r(t).setActiveItem(a.label),class:i(["group relative flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all duration-300 hover:shadow-md",[r(t).activeItem===a.label?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg transform -translate-y-0.5":"text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-700/80"]])},{default:y(()=>[r(t).activeItem===a.label?(n(),l("span",me)):p("",!0),e("div",fe,[e("div",{class:i(["w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300",r(t).activeItem===a.label?"bg-white/20 backdrop-blur-sm":"bg-pink-100 dark:bg-gray-700 group-hover:bg-pink-200 dark:group-hover:bg-gray-600"])},[e("i",{class:i(["bx text-xl",a.icon,r(t).activeItem===a.label?"text-white":"text-pink-600 dark:text-pink-400"])},null,2)],2)]),r(t).sidebarOpen?(n(),l("span",ke,x(a.label),1)):p("",!0),r(t).sidebarOpen?p("",!0):(n(),l("div",ve,[v(x(a.label)+" ",1),s[3]||(s[3]=e("div",{class:"absolute left-0 top-1/2 -translate-y-1/2 -ml-1.5 w-3 h-3 bg-gray-800 rotate-45"},null,-1))])),r(t).activeItem===a.label&&r(t).sidebarOpen?(n(),l("div",ye,[...s[4]||(s[4]=[e("div",{class:"w-2 h-2 rounded-full bg-white/80 animate-ping"},null,-1)])])):p("",!0)]),_:2},1032,["to","onClick","class"])),64))])],2),g(C,{name:"fade"},{default:y(()=>[r(t).sidebarOpen&&d.value?(n(),l("div",{key:0,onClick:s[0]||(s[0]=(...a)=>r(t).toggleSidebar&&r(t).toggleSidebar(...a)),class:"fixed inset-0 bg-black/20 dark:bg-black/40 backdrop-blur-sm z-30"})):p("",!0)]),_:1}),e("aside",{class:i(["fixed left-0 top-0 h-screen bg-gradient-to-b from-white to-pink-50/30 dark:from-gray-900 dark:to-gray-800/50 border-r border-pink-100/50 dark:border-gray-700/50 backdrop-blur-sm z-40 flex flex-col justify-between transition-all duration-500 ease-out overflow-hidden",[r(t).sidebarOpen&&d.value?"translate-x-0 w-64":"-translate-x-full w-64",d.value?"":"hidden"]])},[e("div",he,[e("div",we,[s[6]||(s[6]=e("h1",{class:"text-lg font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent"}," Memory Journal ",-1)),e("button",{onClick:s[1]||(s[1]=(...a)=>r(t).toggleSidebar&&r(t).toggleSidebar(...a)),class:"p-2 rounded-lg hover:bg-pink-100 dark:hover:bg-gray-700"},[...s[5]||(s[5]=[e("i",{class:"bx bx-x text-xl text-gray-600 dark:text-gray-300"},null,-1)])])])]),e("nav",_e,[(n(),l(S,null,$(f,a=>g(k,{key:a.label,to:a.route,onClick:s[2]||(s[2]=c=>r(t).closeSidebar()),class:i(["group relative flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all duration-300",[r(t).activeItem===a.label?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg":"text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-700/80"]])},{default:y(()=>[e("div",{class:i(["w-10 h-10 rounded-xl flex items-center justify-center",r(t).activeItem===a.label?"bg-white/20":"bg-pink-100 dark:bg-gray-700"])},[e("i",{class:i(["bx text-xl",a.icon,r(t).activeItem===a.label?"text-white":"text-pink-600 dark:text-pink-400"])},null,2)],2),e("span",Se,x(a.label),1)]),_:2},1032,["to","class"])),64))])],2)],64)}}}),Ce=A($e,[["__scopeId","data-v-4120bcd5"]]),Ie={class:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-pink-50/30 dark:from-gray-950 dark:to-gray-900 overflow-hidden"},Me={class:"flex flex-1 overflow-hidden"},je={class:"flex-1 overflow-y-auto"},Ae={class:"min-h-full bg-gradient-to-br from-white/80 to-pink-50/20 dark:from-gray-900/80 dark:to-gray-800/20"},ze={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8"},Te=I({__name:"MainLayout",setup(h){const t=z();return M(()=>{t.initTheme()}),(m,f)=>(n(),l("div",Ie,[g(pe),e("div",Me,[g(Ce),e("main",je,[e("div",Ae,[e("div",ze,[q(m.$slots,"default")])])])])]))}});export{Te as _};
